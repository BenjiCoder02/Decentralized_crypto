(this["webpackJsonpreact-crypto-tracker"]=this["webpackJsonpreact-crypto-tracker"]||[]).push([[0],{29:function(e,t,c){},49:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(23),s=c.n(r),o=(c(29),c(5)),i=c(11),l=c.n(i),u=c(2),j=(c(49),c(50),c(24)),b="https://api.coingecko.com/api/v3/coins",d="".concat(b,"/markets?vs_currency=usd&order=market_cap_desc&per_page=8&page=1&sparkline=false"),O="".concat(b,"/{coinId}/market_chart?vs_currency=usd&days=2&interval=hourly"),h=Object.freeze({scales:{yAxes:{grid:{drawBorder:!0,color:"#FFFFFF"},ticks:{beginAtZero:!0,color:"white",fontSize:12}},xAxes:{grid:{drawBorder:!0,color:"#FFFFFF"},ticks:{beginAtZero:!0,color:"white",fontSize:12}}}}),p=c(1);var m=function(e){var t=e.name,c=e.id,n=O.replace("{coinId}",c),r=Object(a.useState)([]),s=Object(o.a)(r,2),i=s[0],b=s[1],d=Object(a.useState)([]),m=Object(o.a)(d,2),f=m[0],g=m[1],v=Object(a.useCallback)((function(){l.a.get(n).then((function(e){for(var t=e.data.prices,c=[],a=[],n=0;n<t.length;n++){var r=new Date(t[n][0]),s="".concat(r.getHours(),":").concat(r.getSeconds());a.push(s),c.push(t[n][1])}b((function(e){return[].concat(Object(u.a)(e),a)})),g((function(e){return[].concat(Object(u.a)(e),c)}))})).catch((function(e){console.error(e)}))}),[n,f,i]);return Object(a.useEffect)((function(){v()}),[]),Object(p.jsx)(j.a,{datasetIdKey:t,data:{labels:i,datasets:[{label:"Prices",data:i.map((function(e,t){return f[t]})),backgroundColor:"white",color:"white",borderColor:"white",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)"}]},options:h})},f=function(e){var t=e.name,c=e.id,n=e.image,r=e.symbol,s=e.price,i=e.volume,l=e.priceChange,j=e.marketCap,b=e.last_updated,d=Object(a.useState)(!1),O=Object(o.a)(d,2),h=O[0],f=O[1],g=Object(a.useState)([]),v=Object(o.a)(g,2),x=v[0],k=v[1],C=Object(a.useState)([]),y=Object(o.a)(C,2),N=y[0],S=y[1],F=Object(a.useCallback)((function(e){return e.price<0?Object(p.jsxs)("p",{className:"coin-percent red",children:[l.toFixed(2),"%"]}):Object(p.jsxs)("p",{className:"coin-percent green",children:[l.toFixed(2),"%"]})}),[l]),_=Object(a.useCallback)((function(e){var t=e.target.id;f(!0);var c=document.getElementById("".concat(t,"-chart"));null===c||void 0===c||c.classList.add("hover")}),[]),w=Object(a.useCallback)((function(e){var t=e.target.id;f(!1);var c=document.getElementById("".concat(t,"-chart"));null===c||void 0===c||c.classList.remove("hover")}),[]),E=Object(a.useCallback)((function(e,t){k((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),S((function(e){return[].concat(Object(u.a)(e),[t])}))}),[]),I=Object(a.useCallback)((function(){return h?Object(p.jsx)(m,{name:t,id:c,last_updated:b,setChartDataForCoin:E,chartData:x,labels:N}):null}),[x,c,h,N,b,t,E]);return Object(p.jsx)("div",{className:"coin-container",children:Object(p.jsxs)("div",{className:"coin-row",children:[Object(p.jsxs)("div",{className:"coin",children:[Object(p.jsxs)("div",{className:"coin-info ".concat(t),id:"".concat(t,"-chart"),onMouseEnter:_,onMouseLeave:w,children:[Object(p.jsx)("img",{src:n,alt:"crypto",id:t,className:"coin-hover-effect"}),Object(p.jsx)("div",{className:"chart-container",children:Object(p.jsx)(I,{})})]}),Object(p.jsx)("h1",{children:t}),Object(p.jsx)("p",{className:"coin-symbol",children:r})]}),Object(p.jsxs)("div",{className:"coin-data",children:[Object(p.jsxs)("p",{className:"coin-price",children:["$",s]}),Object(p.jsxs)("p",{className:"coin-volume",children:["$",i.toLocaleString()]}),Object(p.jsx)(F,{price:s}),Object(p.jsxs)("p",{className:"coin-marketcap",children:["Mkt Cap: $",j.toLocaleString()]})]})]})})};var g=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],u=s[1],j=Object(a.useState)(!1),b=Object(o.a)(j,2),O=b[0],h=b[1],m=Object(a.useState)(null),g=Object(o.a)(m,2),v=g[0],x=g[1],k=Object(a.useCallback)((function(){l.a.get(d).then((function(e){n(e.data)})).catch((function(e){console.error("Error on request ".concat(d,": ").concat(e)),h(!0)}))}),[n]);Object(a.useEffect)((function(){k();var e=setInterval((function(){k()}),6e4);return x(e),function(){return clearInterval(v)}}),[k]);var C=Object(a.useCallback)((function(e){u(e.target.value)}),[u]),y=Object(a.useCallback)((function(){return c.filter((function(e){return e.name.toLowerCase().includes(i.toLocaleLowerCase())}))}),[c,i]),N=Object(a.useCallback)((function(){return y().map((function(e){return Object(p.jsx)(f,{id:e.id,name:e.name,image:e.image,symbol:e.symbol,marketCap:e.market_cap,price:e.current_price,priceChange:e.price_change_percentage_24h,volume:e.total_volume,last_updated:e.last_updated},e.id)}))}),[y]),S=Object(a.useCallback)((function(){return O?Object(p.jsx)("h1",{children:"There was an error fetching data, please try refreshing the page."}):null}),[O]);return Object(p.jsxs)("div",{className:"coin-app",children:[Object(p.jsxs)("div",{className:"coin-search",children:[Object(p.jsxs)("h1",{className:"coin-text",children:[Object(p.jsx)("i",{className:"fab fa-dyalog"}),"\xa0DECENTRALIZED"]}),Object(p.jsx)("form",{children:Object(p.jsx)("input",{type:"text",placeholder:"Search",className:"coin-input",onChange:C})})]}),Object(p.jsx)(S,{}),Object(p.jsx)(N,{})]})};var v=function(){return Object(p.jsx)(g,{})};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.5b39a2ba.chunk.js.map