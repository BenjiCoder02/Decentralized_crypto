(this["webpackJsonpreact-crypto-tracker"]=this["webpackJsonpreact-crypto-tracker"]||[]).push([[0],{29:function(e,t,c){},49:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(23),s=c.n(r),o=(c(29),c(4)),i=c(11),l=c.n(i),u=c(2),b=(c(49),c(50),c(24)),j="https://api.coingecko.com/api/v3/coins",d="".concat(j,"/markets?vs_currency=usd&order=market_cap_desc&per_page=8&page=1&sparkline=false"),h="".concat(j,"/{coinId}/market_chart?vs_currency=usd&days=1&interval=hourly"),O={label:void 0,backgroundColor:"white",color:"white",borderColor:"white",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:null},m=Object.freeze({scales:{yAxes:{grid:{drawBorder:!0,color:"#FFFFFF"},ticks:{beginAtZero:!0,color:"white",fontSize:12}},xAxes:{grid:{drawBorder:!0,color:"#FFFFFF"},ticks:{beginAtZero:!0,color:"white",fontSize:12}}}}),f=c(1);var p=function(e){var t=e.name,c=e.id,n=h.replace("{coinId}",c),r=Object(a.useState)([]),s=Object(o.a)(r,2),i=s[0],j=s[1],d=Object(a.useState)([]),p=Object(o.a)(d,2),g=p[0],v=p[1],x=Object(a.useCallback)((function(){l.a.get(n).then((function(e){for(var t=e.data.prices,c=[],a=[],n=0;n<t.length;n++){var r=O,s=new Date(t[n][0]),o="".concat(s.getHours(),":").concat(s.getSeconds());a.push(o),r.id=t[n][1],r.label=o,r.data=t,c.push(r)}j((function(e){return[].concat(Object(u.a)(e),a)})),v((function(e){return[].concat(Object(u.a)(e),c)})),console.log(c)})).catch((function(e){console.error(e)}))}),[n]);return Object(a.useEffect)((function(){x()}),[]),Object(f.jsx)(b.a,{datasetIdKey:t,data:{labels:i,datasets:g},options:m})},g=function(e){var t=e.name,c=e.id,n=e.image,r=e.symbol,s=e.price,i=e.volume,l=e.priceChange,b=e.marketCap,j=e.last_updated,d=Object(a.useState)(!1),h=Object(o.a)(d,2),O=h[0],m=h[1],g=Object(a.useState)(""),v=Object(o.a)(g,2),x=(v[0],v[1]),k=Object(a.useState)([]),C=Object(o.a)(k,2),N=C[0],y=C[1],S=Object(a.useState)([]),F=Object(o.a)(S,2),_=F[0],w=F[1],E=Object(a.useCallback)((function(e){return e.price<0?Object(f.jsxs)("p",{className:"coin-percent red",children:[l.toFixed(2),"%"]}):Object(f.jsxs)("p",{className:"coin-percent green",children:[l.toFixed(2),"%"]})}),[l]),L=Object(a.useCallback)((function(e){var c=e.target.id;if(m(!0),"coin-hover-effect"===e.target.className||e.target.className==="".concat(t,"-chart")){var a=document.getElementsByClassName("hover");a.length>1&&a.forEach((function(e){return e.classList.remove("hover")})),document.getElementById("".concat(c,"-chart")).classList.add("hover")}}),[t]),I=Object(a.useCallback)((function(e){var c=e.target.id;if(m(!1),"coin-hover-effect"===e.target.className||e.target.className==="".concat(t,"-chart")){var a=document.getElementsByClassName("hover");a.length>1&&a.forEach((function(e){return e.classList.remove("hover")})),document.getElementById("".concat(c,"-chart")).classList.remove("hover")}}),[t]),B=Object(a.useCallback)((function(e){x(e)}),[]),A=Object(a.useCallback)((function(e,t){y((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),w((function(e){return[].concat(Object(u.a)(e),[t])}))}),[]),D=Object(a.useCallback)((function(){return O||"bitcoin"!==t?Object(f.jsx)(p,{name:t,id:c,last_updated:j,setCoinChartWasRendered:B,setChartDataForCoin:A,chartData:N,labels:_}):null}),[N,c,O,j,t,A,B]);return Object(f.jsx)("div",{className:"coin-container",children:Object(f.jsxs)("div",{className:"coin-row",children:[Object(f.jsxs)("div",{className:"coin",children:[Object(f.jsxs)("div",{className:"coin-info ".concat(t),id:"".concat(t,"-chart"),onMouseEnter:L,onMouseLeave:I,children:[Object(f.jsx)("img",{src:n,alt:"crypto",id:t,className:"coin-hover-effect"}),Object(f.jsx)("div",{className:"chart-container",children:Object(f.jsx)(D,{})})]}),Object(f.jsx)("h1",{children:t}),Object(f.jsx)("p",{className:"coin-symbol",children:r})]}),Object(f.jsxs)("div",{className:"coin-data",children:[Object(f.jsxs)("p",{className:"coin-price",children:["$",s]}),Object(f.jsxs)("p",{className:"coin-volume",children:["$",i.toLocaleString()]}),Object(f.jsx)(E,{price:s}),Object(f.jsxs)("p",{className:"coin-marketcap",children:["Mkt Cap: $",b.toLocaleString()]})]})]})})};var v=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),i=s[0],u=s[1],b=Object(a.useState)(!1),j=Object(o.a)(b,2),h=j[0],O=j[1],m=Object(a.useState)(null),p=Object(o.a)(m,2),v=p[0],x=p[1],k=Object(a.useCallback)((function(){l.a.get(d).then((function(e){n(e.data)})).catch((function(e){console.error("Error on request ".concat(d,": ").concat(e)),O(!0)}))}),[n]);Object(a.useEffect)((function(){k();var e=setInterval((function(){k()}),6e4);return x(e),function(){return clearInterval(v)}}),[k]);var C=Object(a.useCallback)((function(e){u(e.target.value)}),[u]),N=Object(a.useCallback)((function(){return c.filter((function(e){return e.name.toLowerCase().includes(i.toLocaleLowerCase())}))}),[c,i]),y=Object(a.useCallback)((function(){return N().map((function(e){return Object(f.jsx)(g,{id:e.id,name:e.name,image:e.image,symbol:e.symbol,marketCap:e.market_cap,price:e.current_price,priceChange:e.price_change_percentage_24h,volume:e.total_volume,last_updated:e.last_updated},e.id)}))}),[N]),S=Object(a.useCallback)((function(){return h?Object(f.jsx)("h1",{children:"There was an error fetching data, please try refreshing the page."}):null}),[h]);return Object(f.jsxs)("div",{className:"coin-app",children:[Object(f.jsxs)("div",{className:"coin-search",children:[Object(f.jsxs)("h1",{className:"coin-text",children:[Object(f.jsx)("i",{className:"fab fa-dyalog"}),"\xa0DECENTRALIZED"]}),Object(f.jsx)("form",{children:Object(f.jsx)("input",{type:"text",placeholder:"Search",className:"coin-input",onChange:C})})]}),Object(f.jsx)(S,{}),Object(f.jsx)(y,{})]})};var x=function(){return Object(f.jsx)(v,{})};s.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(x,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.53c0b9f8.chunk.js.map